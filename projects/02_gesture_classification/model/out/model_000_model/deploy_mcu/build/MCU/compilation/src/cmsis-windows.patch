From 97d5cdf2bf7371ff8b12f440efd47e5b0ff625d6 Mon Sep 17 00:00:00 2001
From: Jens Huthmann <45870156+JensHuthmann@users.noreply.github.com>
Date: Mon, 24 Mar 2025 13:52:21 +0900
Subject: [PATCH] Windows compat

---
 Include/Internal/arm_nn_compiler.h | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

diff --git a/Include/Internal/arm_nn_compiler.h b/Include/Internal/arm_nn_compiler.h
index a03caef..790b479 100644
--- a/Include/Internal/arm_nn_compiler.h
+++ b/Include/Internal/arm_nn_compiler.h
@@ -80,7 +80,7 @@

     // Build for non Arm Cortex-M processors is not tested or supported.
     // Use this section to stub any macros or intrinsics
-    #warning Unsupported compiler
+    // #warning Unsupported compiler
     #ifndef __STATIC_FORCEINLINE
         #define __STATIC_FORCEINLINE static __forceinline
     #endif
@@ -90,6 +90,9 @@
     #ifndef __ALIGNED
         #define __ALIGNED(x) __declspec(align(x))
     #endif
+    #ifndef __RESTRICT
+        #define __RESTRICT __restrict
+    #endif

 #elif defined(__GNUC__)

@@ -138,7 +141,7 @@
     #include <arm_acle.h>
 #endif

-#if defined(__GNUC__)
+#if defined(__GNUC__) || defined(_MSC_VER)
     #include <stdint.h>
 #endif

@@ -154,7 +157,7 @@
 /* Common intrinsics for all architectures */
 #if defined(__ARMCC_VERSION) && (__ARMCC_VERSION >= 6010050) || defined(__ICCARM__)
     #define CLZ __clz
-#elif defined(__GNUC__)
+#elif defined(__GNUC__) || defined(_MSC_VER)
 /**
   \brief   Count leading zeros
   \details Counts the number of leading zeros of a data value.
--
2.34.1

